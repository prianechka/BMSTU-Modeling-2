\usepackage{mathtext}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage[russian]{babel}
\usepackage{latexsym}
\usepackage{indentfirst}
\usepackage{mathtools}
\usepackage{graphicx}
\usepackage{csvsimple}
\graphicspath{}
\DeclareGraphicsExtensions{.pdf,.png,.jpg, .eps, .svg}
\usepackage[top=20mm, right = 10mm, left = 30mm, bottom = 20mm]{geometry}
\linespread{1.3}
\usepackage{color} 
\usepackage{listings} 
\usepackage{pythonhighlight}
\usepackage{caption}
\usepackage{ragged2e}
\justifying

\usepackage{amsmath}

\usepackage{setspace}
\onehalfspacing % Полуторный интервал

\frenchspacing
\usepackage{indentfirst} % Красная строка
\usepackage{titlesec}
\titleformat{\section}
{\normalsize\bfseries}
{\thesection}
{1em}{}
\titlespacing*{\section}{\parindent}{*4}{*4}
\titlespacing*{\subsection}{\parindent}{*4}{*4}

\usepackage{titlesec}
%\titleformat{\section}{\Large\bfseries}{\thesection}{20pt}{\Large\bfseries}

\titleformat{name=\section}[block]
{\normalfont\Large\bfseries\hspace{\parindent}}
{\thesection}
{1em}
{}
\titleformat{name=\section,numberless}[block]
{\normalfont\Large\bfseries\centering}
{}
{0pt}
{}

\newcommand{\anonsection}[1]{%
	\section*{\centering#1}%
	\addcontentsline{toc}{section}{#1}%
}
\usepackage[figurename=Рисунок]{caption}
\usepackage{placeins}
\DeclareCaptionLabelSeparator{defffis}{~--~}


\usepackage{caption}
\captionsetup{justification=raggedright,singlelinecheck=false}
\addto\captionsrussian{\def\refname{Список использованных источников}}
\usepackage{url}

\usepackage{cmap} % Улучшенный поиск русских слов в полученном pdf-файле
\usepackage{fontspec}
\usepackage{pdfpages}

\usepackage[square,numbers,sort&compress]{natbib}
\renewcommand{\bibnumfmt}[1]{#1.\hfill}
\setmainfont{Times New Roman}

\makeatletter
\renewenvironment{thebibliography}[1]
{\section*{\bibname}% <-- this line was changed from \chapter* to \section*
	\@mkboth{\MakeUppercase\bibname}{\MakeUppercase\bibname}%
	\list{\@biblabel{\@arabic\c@enumiv}}%
	{\settowidth\labelwidth{\@biblabel{#1}}%
		\leftmargin\labelwidth
		\advance\leftmargin\labelsep
		\@openbib@code
		\usecounter{enumiv}%
		\let\p@enumiv\@empty
		\renewcommand\theenumiv{\@arabic\c@enumiv}}%
	\sloppy
	\clubpenalty4000
	\@clubpenalty \clubpenalty
	\widowpenalty4000%
	\sfcode`\.\@m}
{\def\@noitemerr
	{\@latex@warning{Empty `thebibliography' environment}}%
	\endlist}
\makeatother

\newcommand{\specialcell}[2][c]{%
	\begin{tabular}[#1]{@{}c@{}}#2\end{tabular}}